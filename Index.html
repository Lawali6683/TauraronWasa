<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TauraronWasa - Yada Labaran Wasanni</title>
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome CDN (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Manifest and PWA meta -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#180022">
    
    <style>
     
     /* üö¶‚úîÔ∏èSite 1 CSS ya fara daga nan */
body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom, #180022, #300040);
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    color: #fff;
    transition: background 0.5s, color 0.5s;
}
body.bg2 {
    background: linear-gradient(to bottom right, #ffffff, #f0f0f0);
    color: #222;
}
body.bg3 {
    background: #0e0e0e;
    color: #f4f4f4;
}
header#site1-header {
    width: 100%;
    padding: 16px 0;
    background: rgba(24,0,34,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
}
.header-content {
    display: flex;
    align-items: center;
    gap: 20px;
    width: 90%;
    max-width: 900px;
}
.logo {
    width: 50px;
    height: 50px;
    object-fit: contain;
    border-radius: 10px;
    border: 2px solid #fff;
    background: #fff;
}
.bg-btn, .app-install-btn {
    background: none;
    border: none;
    font-size: 1.6rem;
    cursor: pointer;
    color: inherit;
    transition: transform 0.2s, color 0.2s;
    margin: 0 2px;
}
.bg-btn:hover, .app-install-btn:hover {
    color: #ecb522;
    transform: scale(1.2);
}
/* ‚è≥‚úîÔ∏èSite 1 CSS ya kare daga nan */




/* üö¶‚úîÔ∏èSite 2 CSS ya fara daga nan */
#site2-views {
    width: 100%;
    padding: 20px 0 10px;
    background: rgba(0,0,0,0.07);
    display: flex;
    justify-content: center;
    align-items: center;
}
.views-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 95%;
    max-width: 600px;
    gap: 20px;
}
.menu-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    transition: transform 0.2s;
}
.menu-item img {
    width: 46px;
    height: 46px;
    object-fit: contain;
    border-radius: 50%;
    border: 2px solid #ecb522;
    margin-bottom: 4px;
    background: #fff;
}
.menu-item span {
    font-size: 0.95rem;
    font-weight: 600;
    color: inherit;
}
.menu-item:hover {
    transform: scale(1.08);
}
.views-analysis {
    flex: 1.5;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: linear-gradient(90deg, #ecb522 60%, #180022 100%);
    border-radius: 16px;
    padding: 16px 0;
    color: #180022;
    font-size: 1.05rem;
    font-weight: bold;
    transition: background 0.2s;
    cursor: pointer;
    box-shadow: 0 2px 16px rgba(24,0,34,0.05);
}
.views-analysis i {
    font-size: 2rem;
    margin-bottom: 4px;
    color: #fff;
    background: #180022;
    border-radius: 50px;
    padding: 6px;
}
.views-analysis span {
    font-size: 1.3rem;
}
.views-analysis small {
    font-size: 0.9rem;
    color: #180022;
}
/* ‚è≥‚úîÔ∏èSite 2 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 3 CSS ya fara daga nan */
#site3-leagues {
    margin: 10px 0 14px;
    padding-bottom: 12px;
    width: 100%;
    overflow-x: auto;
}
.leagues-scroll {
    display: flex;
    gap: 16px;
    overflow-x: auto;
    padding: 10px 0;
    scroll-behavior: smooth;
}
.league-menu {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 90px;
    cursor: pointer;
    border-radius: 13px;
    padding: 8px 6px;
    box-shadow: 0 2px 8px rgba(24,0,34,0.03);
    background: rgba(255,255,255,0.08);
    border: 1.5px solid transparent;
    transition: border 0.2s, background 0.2s, transform 0.2s;
}
.league-menu:hover {
    background: #ecb522;
    border: 1.5px solid #180022;
    color: #180022;
    transform: scale(1.08);
}
.league-menu img {
    width: 38px;
    height: 38px;
    object-fit: contain;
    margin-bottom: 5px;
    border-radius: 8px;
    background: #fff;
    border: 1.5px solid #ecb522;
}
.league-menu span {
    font-size: 0.95rem;
    text-align: center;
    font-weight: 600;
    margin-top: 2px;
    color: inherit;
}
/* ‚è≥‚úîÔ∏èSite 3 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 4 CSS ya fara daga nan */
#site4-sarki {
    width: 100%;
    min-height: 180px;
    margin: 0 0 18px 0;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sarki-bg {
    width: 95%;
    max-width: 620px;
    height: 20vh;
    min-height: 160px;
    background: url('https://i.imgur.com/OtQfC6.png') center/cover no-repeat;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
}
.sarki-bg:before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg,rgba(24,0,34,0.65) 45%,rgba(236,181,34,0.15));
    z-index: 1;
}
.sarki-top, .sarki-main, .sarki-bottom {
    position: relative;
    z-index: 2;
}
.sarki-top {
    display: flex;
    justify-content: space-between;
    padding: 10px 18px 0 18px;
    color: #ecb522;
    font-weight: bold;
    font-size: 1.13rem;
}
.sarki-title {
    font-size: 1.12rem;
}
.sarki-main {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding: 0 24px;
}
.sarki-main .games {
    display: flex;
    gap: 12px;
}
.sarki-main .game {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
}
.sarki-main .game img {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: #fff;
    border: 2px solid #ecb522;
    margin-bottom: 2px;
}
.sarki-main .game span {
    font-size: 0.93rem;
    color: #fff;
}
.sarki-profile {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
}
.sarki-profile img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2.5px solid #ecb522;
    background: #fff;
}
.sarki-profile img:last-child {
    width: 22px;
    height: 22px;
    margin-top: -20px;
    border: 2px solid #fff;
    border-radius: 50%;
}
.sarki-bottom {
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
    padding: 0 18px 10px 0;
}
#sarki-like-btn {
    background: #fff;
    color: #ecb522;
    border: none;
    padding: 7px 16px;
    border-radius: 50px;
    font-size: 1.15rem;
    font-weight: bold;
    box-shadow: 0 2px 12px rgba(236,181,34,0.07);
    cursor: pointer;
    transition: background 0.2s, color 0.2s, transform 0.2s;
}
#sarki-like-btn.liked {
    background: #ecb522;
    color: #fff;
    transform: scale(1.07);
}
/* ‚è≥‚úîÔ∏èSite 4 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 5 CSS ya fara daga nan */
#site5-kaitsaye {
    width: 100%;
    padding: 14px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
}
.kaitsaye-post {
    width: 96%;
    max-width: 580px;
    background: rgba(255,255,255,0.07);
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(24,0,34,0.04);
    padding: 16px 0 12px 0;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 7px;
    position: relative;
}
.kaitsaye-top {
    font-weight: bold;
    font-size: 1.12rem;
    color: #ecb522;
    padding: 0 16px 4px 18px;
}
.kaitsaye-text {
    font-size: 1.06rem;
    padding: 0 16px;
    color: inherit;
    min-height: 24px;
    max-height: 54px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: pre-line;
}
.kaitsaye-media {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 10px 0;
}
.kaitsaye-media img, .kaitsaye-media video {
    width: 96%;
    max-width: 380px;
    max-height: 180px;
    border-radius: 12px;
    object-fit: contain;
    box-shadow: 0 2px 10px rgba(24,0,34,0.08);
}
.kaitsaye-games {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin: 0 0 6px 0;
}
.kaitsaye-games .game-link {
    font-size: 0.96rem;
    color: #ecb522;
    background: #180022;
    border-radius: 7px;
    padding: 3px 14px;
    margin: 0 0 2px 18px;
    cursor: pointer;
    display: inline-block;
    transition: background 0.2s, color 0.2s;
}
.kaitsaye-games .game-link:hover {
    background: #ecb522;
    color: #180022;
}
.kaitsaye-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 14px;
    font-size: 1.05rem;
    margin-top: 4px;
}
.kaitsaye-actions .action-btn {
    display: flex;
    align-items: center;
    gap: 3px;
    color: inherit;
    background: none;
    border: none;
    font-size: 1.06rem;
    cursor: pointer;
    transition: color 0.2s, transform 0.2s;
}
.kaitsaye-actions .action-btn.liked {
    color: #ecb522;
    transform: scale(1.12);
}
/* ‚è≥‚úîÔ∏èSite 5 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 6 CSS ya fara daga nan */
#site6-wasanni {
    width: 100%;
    margin: 12px 0 10px 0;
    padding: 0;
}
#site6-wasanni h2 {
    text-align: left;
    font-size: 1.25rem;
    font-weight: bold;
    padding: 0 0 4px 20px;
    color: #ecb522;
}
.wasanni-scroll {
    display: flex;
    gap: 13px;
    overflow-x: auto;
    padding: 7px 0 11px 0;
    scroll-behavior: smooth;
}
.wasanni-card {
    min-width: 185px;
    max-width: 220px;
    background: rgba(255,255,255,0.09);
    border-radius: 15px;
    padding: 11px 8px;
    box-shadow: 0 2px 8px rgba(24,0,34,0.04);
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1.5px solid #ecb522;
    position: relative;
    transition: transform 0.2s;
}
.wasanni-card:hover {
    transform: scale(1.04);
    background: #ecb522;
    color: #180022;
    border: 1.5px solid #180022;
}
.wasanni-teams {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: 9px;
}
.wasanni-logo {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: contain;
    background: #fff;
    border: 1.5px solid #180022;
}
.wasanni-vs {
    font-weight: bold;
    font-size: 1.12rem;
    margin: 0 7px;
}
.wasanni-time {
    font-size: 1rem;
    margin-top: 4px;
    color: #ecb522;
    font-weight: 600;
}
.wasanni-status {
    font-size: 0.89rem;
    margin-top: 2px;
    color: #fff;
    background: #180022;
    border-radius: 7px;
    padding: 2px 8px;
}
/* ‚è≥‚úîÔ∏èSite 6 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 7 CSS ya fara daga nan */
#site7-masu-zabi {
    width: 100%;
    margin: 22px 0 10px 0;
}
#site7-masu-zabi h2 {
    text-align: left;
    font-size: 1.20rem;
    font-weight: bold;
    padding: 0 0 4px 20px;
    color: #ecb522;
}
.masu-zabi-scroll {
    display: flex;
    gap: 16px;
    overflow-x: auto;
    padding: 5px 0 13px 0;
    scroll-behavior: smooth;
}
.masu-zabi-card {
    min-width: 210px;
    max-width: 300px;
    background: rgba(255,255,255,0.09);
    border-radius: 15px;
    padding: 10px 10px 14px 10px;
    box-shadow: 0 2px 8px rgba(24,0,34,0.04);
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1.5px solid #ecb522;
    position: relative;
    transition: transform 0.2s;
}
.masu-zabi-card:hover {
    transform: scale(1.04);
    background: #ecb522;
    color: #180022;
    border: 1.5px solid #180022;
}
.masu-zabi-teams {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: 10px;
    margin-bottom: 3px;
}
.masu-zabi-logo {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    object-fit: contain;
    background: #fff;
    border: 1.5px solid #180022;
}
.masu-zabi-vs {
    font-weight: bold;
    font-size: 1.07rem;
    margin: 0 7px;
}
.masu-zabi-time {
    font-size: 0.95rem;
    margin-top: 2px;
    color: #ecb522;
    font-weight: 600;
}
.masu-zabi-title {
    font-size: 1.04rem;
    font-weight: bold;
    margin: 4px 0 3px 0;
}
.masu-zabi-desc {
    font-size: 0.97rem;
    margin-bottom: 4px;
    color: inherit;
    min-height: 28px;
    max-height: 62px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: pre-line;
}
.masu-zabi-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 97%;
    margin-top: 7px;
    gap: 7px;
}
.masu-zabi-actions .action-btn {
    display: flex;
    align-items: center;
    gap: 3px;
    color: inherit;
    background: none;
    border: none;
    font-size: 1.04rem;
    cursor: pointer;
    transition: color 0.2s, transform 0.2s;
}
.masu-zabi-actions .action-btn.liked {
    color: #ecb522;
    transform: scale(1.08);
}
/* ‚è≥‚úîÔ∏èSite 7 CSS ya kare daga nan */

/* üö¶‚úîÔ∏èSite 8 CSS ya fara daga nan */
#site8-posting {
    width: 100%;
    margin: 20px 0 14px 0;
}
#site8-posting h2 {
    text-align: left;
    font-size: 1.18rem;
    font-weight: bold;
    padding: 0 0 4px 20px;
    color: #ecb522;
}
.posting-feed {
    display: flex;
    flex-direction: column;
    gap: 18px;
    align-items: center;
    width: 100%;
}
.posting-card {
    width: 96%;
    max-width: 540px;
    background: rgba(255,255,255,0.07);
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(24,0,34,0.04);
    padding: 14px 0 10px 0;
    margin-bottom: 7px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    position: relative;
}
.posting-title {
    font-size: 1.09rem;
    font-weight: bold;
    color: #ecb522;
    padding: 0 16px 2px 18px;
}
.posting-text {
    font-size: 1.03rem;
    padding: 0 16px 2px 18px;
    color: inherit;
    min-height: 24px;
    max-height: 50px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: pre-line;
}
.posting-media {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 7px;
    justify-content: center;
    align-items: center;
    margin: 6px 0 0 0;
}
.posting-media img, .posting-media video {
    width: 48%;
    max-width: 220px;
    max-height: 120px;
    border-radius: 10px;
    object-fit: contain;
    background: #fff;
    border: 1.5px solid #ecb522;
}
.posting-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 14px;
    font-size: 1rem;
    margin-top: 3px;
}
.posting-actions .action-btn {
    display: flex;
    align-items: center;
    gap: 3px;
    color: inherit;
    background: none;
    border: none;
    font-size: 1.06rem;
    cursor: pointer;
    transition: color 0.2s, transform 0.2s;
}
.posting-actions .action-btn.liked {
    color: #ecb522;
    transform: scale(1.12);
}
/* ‚è≥‚úîÔ∏èSite 8 CSS ya kare daga nan */

/* Push Registration Modal CSS */
.push-modal {
    display: none;
    position: fixed;
    z-index: 99;
    left: 0; top: 0;
    width: 100vw; height: 100vh;
    background: rgba(24,0,34,0.63);
    justify-content: center;
    align-items: center;
}
.push-modal-content {
    background: #fff;
    color: #222;
    padding: 24px 36px;
    border-radius: 16px;
    box-shadow: 0 2px 16px rgba(24,0,34,0.13);
    text-align: center;
    min-width: 230px;
    max-width: 85vw;
    position: relative;
}
.push-modal-content .close {
    position: absolute;
    right: 16px; top: 12px;
    font-size: 1.4rem;
    color: #180022;
    cursor: pointer;
}
.push-modal-btns {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 14px;
}
.push-btn {
    background: #ecb522;
    color: #180022;
    border: none;
    border-radius: 8px;
    padding: 7px 18px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
}
.push-btn:hover {
    background: #180022;
    color: #ecb522;
}

/* Responsive */
@media (max-width: 700px) {
    .header-content { gap: 7px; }
    .logo { width: 36px; height: 36px; }
    .menu-item img { width: 36px; height: 36px; }
    .leagues-scroll, .masu-zabi-scroll, .wasanni-scroll { gap: 8px; }
    .leagues-scroll { padding: 6px 0; }
    .league-menu, .masu-zabi-card, .wasanni-card { min-width: 75px; }
    .sarki-bg { min-height: 110px; }
    .kaitsaye-post, .posting-card { max-width: 96vw; }
}
    </style>
</head>
<body>
    <!-- üö¶‚úîÔ∏èSite 1 HTML ya fara daga nan -->
    <header id="site1-header">
        <div class="header-content">
            <img src="logo.png" alt="TauraronWasa Logo" class="logo" />
            <button class="bg-btn" id="bg-btn-1" title="Canja Bacgraoud 1"><i class="fa-solid fa-bolt"></i></button>
            <button class="bg-btn" id="bg-btn-2" title="Canja Bacgraoud 2"><i class="fa-solid fa-hourglass-half"></i></button>
            <button class="bg-btn" id="bg-btn-3" title="Canja Bacgraoud 3"><i class="fa-solid fa-face-smile"></i></button>
            <button class="app-install-btn" id="app-install-btn" title="Sanya App"><i class="fa-solid fa-download fa-bounce"></i></button>
        </div>
    </header>
    <!-- ‚è≥‚úîÔ∏èSite 1 HTML ya kare daga nan -->
    
     
    

    <!-- üö¶‚úîÔ∏èSite 2 HTML ya fara daga nan -->
    <section id="site2-views">
        <div class="views-container">
            <div class="menu-item" id="profile-menu">
                <img src="https://i.imgur.com/TIzz0JQ.png" alt="Profile" />
                <span>Profile</span>
            </div>
            <div class="views-analysis" id="views-analysis">
                <i class="fa-solid fa-chart-line"></i>
                <span id="views-count">0</span>
                <small>Masu Kallo</small>
            </div>
            <div class="menu-item" id="teams-menu">
                <img src="https://i.imgur.com/wOEKHgS.png" alt="Teams" />
                <span> Teams</span>
            </div>
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 2 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 3 HTML ya fara daga nan -->
    <section id="site3-leagues">
        <div class="leagues-scroll" id="leagues-scroll">
            <!-- Menu din ligas za a loda daga JS -->
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 3 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 4 HTML ya fara daga nan -->
    <section id="site4-sarki" style="display:none;">
        <div class="sarki-bg" id="sarki-bg">
            <div class="sarki-top">
                <span class="sarki-title">Sarkin Wannan Mako: <span id="sarki-full-name"></span></span>
                <span class="sarki-time" id="sarki-time"></span>
            </div>
            <div class="sarki-main">
                <div class="games">
                    <div class="game">
                        <img id="sarki-game1-logo" src="" alt="Game1" />
                        <span id="sarki-game1-name"></span>
                    </div>
                    <div class="game">
                        <img id="sarki-game2-logo" src="" alt="Game2" />
                        <span id="sarki-game2-name"></span>
                    </div>
                </div>
                <div class="sarki-profile">
                    <img id="sarki-profile-img" src="" alt="Sarki Profile" />
                    <img id="sarki-team-logo" src="" alt="Sarki Team" />
                </div>
            </div>
            <div class="sarki-bottom">
                <button id="sarki-like-btn"><i class="fa-solid fa-heart"></i> <span id="sarki-like-count">4k</span></button>
            </div>
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 4 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 5 HTML ya fara daga nan -->
    <section id="site5-kaitsaye">
        <!-- Duka kai tsaye post za a loda daga JS -->
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 5 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 6 HTML ya fara daga nan -->
    <section id="site6-wasanni">
        <h2>Wasanin Yau</h2>
        <div class="wasanni-scroll" id="wasanni-scroll">
            <!-- Wasanni yau za a loda daga JS -->
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 6 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 7 HTML ya fara daga nan -->
    <section id="site7-masu-zabi">
        <h2>Wasanin Masu Zabi</h2>
        <div class="masu-zabi-scroll" id="masu-zabi-scroll">
            <!-- Masu zabi za a loda daga JS -->
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 7 HTML ya kare daga nan -->

    <!-- üö¶‚úîÔ∏èSite 8 HTML ya fara daga nan -->
    <section id="site8-posting">
        <h2>Sabbin Post</h2>
        <div class="posting-feed" id="posting-feed">
            <!-- Postings za a loda daga JS -->
        </div>
    </section>
    <!-- ‚è≥‚úîÔ∏èSite 8 HTML ya kare daga nan -->

    <!-- Push Registration Notification Modal -->
    <div id="push-registration-modal" class="push-modal">
        <div class="push-modal-content">
            <span id="close-push-modal" class="close">&times;</span>
            <h3>Yi Rijista Ko Shiga</h3>
            <p>Don amfani da wannan fasali, sai kayi rijista ko shiga:</p>
            <div class="push-modal-btns">
                <a href="register.html" class="push-btn">Rijista</a>
                <a href="login.html" class="push-btn">Shiga</a>
            </div>
        </div>
    </div>

    <script type="module">
       // üö¶‚úîÔ∏èSite 1 JS ya fara daga nan
import { app, analytics, firebaseConfig } from './firebase.js';
import { getAuth, onAuthStateChanged, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
import { getDatabase, ref, get, set, push, update, onValue } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

const db = getDatabase(app);
const auth = getAuth(app);

// Bacgraoud Switching
function setBg(bg) {
    document.body.classList.remove("bg2", "bg3");
    if (bg === 2) document.body.classList.add("bg2");
    if (bg === 3) document.body.classList.add("bg3");
    localStorage.setItem('tw_bg', bg);
}
document.getElementById("bg-btn-1").onclick = () => setBg(1);
document.getElementById("bg-btn-2").onclick = () => setBg(2);
document.getElementById("bg-btn-3").onclick = () => setBg(3);
window.addEventListener('DOMContentLoaded', () => {
    setBg(Number(localStorage.getItem('tw_bg')) || 1);
});

// Install App
let installPrompt = null;
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    installPrompt = e;
    document.getElementById("app-install-btn").style.display = "inline-block";
});
document.getElementById("app-install-btn").onclick = async () => {
    if (installPrompt) {
        installPrompt.prompt();
        await installPrompt.userChoice;
        installPrompt = null;
    }
};
// ‚è≥‚úîÔ∏èSite 1 JS ya kare daga nan




// üö¶‚úîÔ∏èSite 2 JS ya fara daga nan
// Profile, Teams, Views Analysis
document.getElementById("profile-menu").onclick = () => location.href = "profile.html";
document.getElementById("teams-menu").onclick = () => location.href = "teams.html";
function animateCount(el, to) {
    let val = 0, step = Math.ceil(to/50);
    el.textContent = val;
    const interval = setInterval(() => {
        val += step;
        if (val >= to) { el.textContent = to.toLocaleString(); clearInterval(interval); }
        else el.textContent = val.toLocaleString();
    }, 25);
}
function fetchViews() {
    const vcRef = ref(db, "viewCout");
    onValue(vcRef, snap => {
        let count = snap.exists() ? snap.val() : 0;
        animateCount(document.getElementById("views-count"), count);
    });
    // On visit, increment views
    set(vcRef, (await get(vcRef)).val() + 1 || 1);
}
fetchViews();
// ‚è≥‚úîÔ∏èSite 2 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 3 JS ya fara daga nan
const leagues = [
    {img: "https://i.imgur.com/DZeMJj8.png", name: "Premier League", link: "premier.html"},
    {img: "https://i.imgur.com/tuYj69T.png", name: "LaLiga", link: "laliga.html"},
    {img: "https://i.imgur.com/Ra2xVMd.png", name: "UEFA Champions League", link: "champions.html"},
    {img: "https://i.imgur.com/vBt3j15.png", name: "Eropa League", link: "eropa.html"},
    {img: "https://i.imgur.com/WUSKrxL.png", name: "FA Cup", link: "fa.html"},
    {img: "https://i.imgur.com/2grD9G5.png", name: "Serie A", link: "series.html"},
    {img: "https://i.imgur.com/LzYuOUD.png", name: "Bundesliga", link: "bundesliga.html"},
    {img: "https://i.imgur.com/uzdLchG.png", name: "Ligue 1", link: "ligue-1.html"},
    {img: "https://i.imgur.com/IoNa2Um.png", name: "NPFL", link: "npfl.html"},
    {img: "https://i.imgur.com/OtQfYC6.png", name: "All Cup Search", link: "all.html"},
    {img: "logo.png", name: "About TauraronWasa", link: "about.html"},
    {img: "https://i.imgur.com/gfh6fJW.png", name: "Contact Teams", link: "contact.html"}
];
const leaguesScroll = document.getElementById("leagues-scroll");
leagues.forEach(l => {
    const div = document.createElement("div");
    div.className = "league-menu";
    div.innerHTML = `<img src="${l.img}" alt="${l.name}" /><span>${l.name}</span>`;
    div.onclick = () => location.href = l.link;
    leaguesScroll.appendChild(div);
});
// ‚è≥‚úîÔ∏èSite 3 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 4 JS ya fara daga nan
async function loadSarki() {
    const sarkiRef = ref(db, "Sarki");
    onValue(sarkiRef, snap => {
        if (!snap.exists()) return document.getElementById("site4-sarki").style.display = "none";
        document.getElementById("site4-sarki").style.display = "block";
        const d = snap.val();
        document.getElementById("sarki-bg").style.backgroundImage = `url('${d.banaimageSarkiLink||"https://i.imgur.com/OtQfC6.png"}')`;
        document.getElementById("sarki-full-name").textContent = d.sarkiFullName || "";
        document.getElementById("sarki-game1-logo").src = d.game1logo || "";
        document.getElementById("sarki-game1-name").textContent = d.game1Name || "";
        document.getElementById("sarki-game2-logo").src = d.game2logo || "";
        document.getElementById("sarki-game2-name").textContent = d.game2Name || "";
        document.getElementById("sarki-profile-img").src = d.profileimageLink || "";
        document.getElementById("sarki-team-logo").src = d.sarkiTeamLogoimageLink || "";
        document.getElementById("sarki-time").textContent = d.timeComent || "";
        document.getElementById("sarki-like-count").textContent = d.sarkiLike ? formatNumber(d.sarkiLike) : "4k";
    });
    document.getElementById("sarki-like-btn").onclick = async () => {
        // Like only once
        if (localStorage.getItem("sarkiLiked")) return;
        const sarkiRef = ref(db, "Sarki");
        const snap = await get(sarkiRef);
        let likes = snap.exists() && snap.val().sarkiLike ? snap.val().sarkiLike : 4000;
        likes++;
        await set(sarkiRef, {...snap.val(), sarkiLike: likes});
        localStorage.setItem("sarkiLiked", "1");
        document.getElementById("sarki-like-btn").classList.add("liked");
    };
}
function formatNumber(n) {
    if (n >= 1_000_000_000) return (n/1_000_000_000).toFixed(1) + "B";
    if (n >= 1_000_000) return (n/1_000_000).toFixed(1) + "M";
    if (n >= 1_000) return (n/1_000).toFixed(1) + "k";
    return n;
}
loadSarki();
// ‚è≥‚úîÔ∏èSite 4 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 5 JS ya fara daga nan
async function loadKaitsaye() {
    const cont = document.getElementById("site5-kaitsaye");
    onValue(ref(db, "kaiTsayePost"), snap => {
        cont.innerHTML = "";
        if (!snap.exists()) return;
        Object.entries(snap.val()).reverse().forEach(([id, p]) => {
            const div = document.createElement("div");
            div.className = "kaitsaye-post";
            div.innerHTML = `
                <div class="kaitsaye-top">KAITSAYE</div>
                <div class="kaitsaye-text">${p.test || ""}</div>
                <div class="kaitsaye-media">
                    ${p.videoLink ? `<video src="${p.videoLink}" controls></video>` : ""}
                </div>
                <div class="kaitsaye-games">
                    ${p.onlineLink1 ? `<span class="game-link">${p.test1 || ""}</span>` : ""}
                    ${p.onlineLink2 ? `<span class="game-link">${p.test2 || ""}</span>` : ""}
                    ${p.onlineLink3 ? `<span class="game-link">${p.test3 || ""}</span>` : ""}
                </div>
                <div class="kaitsaye-actions">
                    <button class="action-btn"><i class="fa-regular fa-eye"></i> ${formatNumber(p.see||0)}</button>
                    <button class="action-btn comment-btn"><i class="fa-regular fa-comment"></i> ${formatNumber((p.comment||[]).length)}</button>
                    <button class="action-btn love-btn ${localStorage.getItem('kaitsayeLove'+id) ? 'liked' : ''}"><i class="fa-solid fa-heart"></i> ${formatNumber(p.love||0)}</button>
                    <button class="action-btn shere-btn"><i class="fa-solid fa-share"></i> ${formatNumber(p.shere||0)}</button>
                </div>
            `;
            div.querySelector('.love-btn').onclick = async () => {
                if (localStorage.getItem('kaitsayeLove'+id)) return;
                await set(ref(db, `kaiTsayePost/${id}/love`), (p.love||0)+1);
                localStorage.setItem('kaitsayeLove'+id, "1");
                div.querySelector('.love-btn').classList.add('liked');
            };
            // TODO: handle comment, shere, and online link
            cont.appendChild(div);
        });
    });
}
loadKaitsaye();
// ‚è≥‚úîÔ∏èSite 5 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 6 JS ya fara daga nan
async function loadWasanniYau() {
    const cont = document.getElementById("wasanni-scroll");
    // Example: fetch from 'wasanninYau'
    onValue(ref(db, "wasanninYau"), snap => {
        cont.innerHTML = "";
        if (!snap.exists()) return;
        Object.entries(snap.val()).forEach(([id, w]) => {
            const div = document.createElement("div");
            div.className = "wasanni-card";
            div.innerHTML = `
                <div class="wasanni-teams">
                    <img class="wasanni-logo" src="${w.game1logo||''}" />
                    <span class="wasanni-vs">${w.game1Name||''} VS ${w.game2Name||''}</span>
                    <img class="wasanni-logo" src="${w.game2logo||''}" />
                </div>
                <div class="wasanni-time">${w.time || "Babu lokaci"}</div>
                <div class="wasanni-status">${w.status || "Ba a fara ba"}</div>
            `;
            div.onclick = () => location.href = `labariGame.html?id=${id}`;
            cont.appendChild(div);
        });
    });
}
loadWasanniYau();
// ‚è≥‚úîÔ∏èSite 6 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 7 JS ya fara daga nan
async function loadMasuZabi() {
    const cont = document.getElementById("masu-zabi-scroll");
    onValue(ref(db, "wasaniMasuZabi"), snap => {
        cont.innerHTML = "";
        if (!snap.exists()) return;
        Object.entries(snap.val()).reverse().forEach(([id, p]) => {
            const div = document.createElement("div");
            div.className = "masu-zabi-card";
            div.innerHTML = `
                <div class="masu-zabi-teams">
                    <img class="masu-zabi-logo" src="${p.game1logo||''}" />
                    <span class="masu-zabi-vs">${p.game1Name||''} VS ${p.game2Name||''}</span>
                    <img class="masu-zabi-logo" src="${p.game2logo||''}" />
                </div>
                <div class="masu-zabi-title">${p.test || ""}</div>
                <div class="masu-zabi-desc">${p.desc || ""}</div>
                <div class="masu-zabi-actions">
                    <button class="action-btn comment-btn"><i class="fa-regular fa-comment"></i> ${formatNumber((p.comment||[]).length)}</button>
                    <button class="action-btn love-btn ${localStorage.getItem('masuZabiLove'+id) ? 'liked' : ''}"><i class="fa-solid fa-heart"></i> ${formatNumber(p.like||0)}</button>
                    <button class="action-btn shere-btn"><i class="fa-solid fa-share"></i> ${formatNumber(p.shere||0)}</button>
                </div>
            `;
            div.querySelector('.love-btn').onclick = async () => {
                if (localStorage.getItem('masuZabiLove'+id)) return;
                await set(ref(db, `wasaniMasuZabi/${id}/like`), (p.like||0)+1);
                localStorage.setItem('masuZabiLove'+id, "1");
                div.querySelector('.love-btn').classList.add('liked');
            };
            cont.appendChild(div);
        });
    });
}
loadMasuZabi();
// ‚è≥‚úîÔ∏èSite 7 JS ya kare daga nan

// üö¶‚úîÔ∏èSite 8 JS ya fara daga nan
async function loadPosting() {
    const cont = document.getElementById("posting-feed");
    onValue(ref(db, "Posting"), snap => {
        cont.innerHTML = "";
        if (!snap.exists()) return;
        Object.entries(snap.val()).reverse().forEach(([id, p]) => {
            const div = document.createElement("div");
            div.className = "posting-card";
            div.innerHTML = `
                <div class="posting-title">${p.title || ""}</div>
                <div class="posting-text">${p.test || ""}</div>
                <div class="posting-media">
                    ${p.photoLink1 ? `<img src="${p.photoLink1}" />` : ""}
                    ${p.photoLink2 ? `<img src="${p.photoLink2}" />` : ""}
                    ${p.videoLink ? `<video src="${p.videoLink}" controls></video>` : ""}
                </div>
                <div class="posting-actions">
                    <button class="action-btn comment-btn"><i class="fa-regular fa-comment"></i> ${formatNumber((p.comment||[]).length)}</button>
                    <button class="action-btn love-btn ${localStorage.getItem('postingLove'+id) ? 'liked' : ''}"><i class="fa-solid fa-heart"></i> ${formatNumber(p.like||0)}</button>
                    <button class="action-btn shere-btn"><i class="fa-solid fa-share"></i> ${formatNumber(p.shere||0)}</button>
                </div>
            `;
            div.querySelector('.love-btn').onclick = async () => {
                if (localStorage.getItem('postingLove'+id)) return;
                await set(ref(db, `Posting/${id}/like`), (p.like||0)+1);
                localStorage.setItem('postingLove'+id, "1");
                div.querySelector('.love-btn').classList.add('liked');
            };
            cont.appendChild(div);
        });
    });
}
loadPosting();
// ‚è≥‚úîÔ∏èSite 8 JS ya kare daga nan

// Push Registration Notification Modal logic
function showPushModal() {
    document.getElementById('push-registration-modal').style.display = 'flex';
}
function hidePushModal() {
    document.getElementById('push-registration-modal').style.display = 'none';
}
document.getElementById('close-push-modal').onclick = hidePushModal;

// Universal handler: show push modal if user not logged in for restricted actions
window.requireAuth = function(callback) {
    if (auth.currentUser) return callback();
    showPushModal();
};

// On page load, save user info to localStorage if logged in
onAuthStateChanged(auth, (user) => {
    if (user) {
        localStorage.setItem('tw_user', JSON.stringify({
            uid: user.uid,
            email: user.email,
            displayName: user.displayName
        }));
    }
});
// End
        
    </script>
</body>
  </html>
